<div class="chat-launch" (click)="toggle()" *ngIf="!open" title="Abrir chat">
  ğŸ’¬
</div>

<div class="chat-panel" *ngIf="open">
  <header class="chat-header">
    <strong>Asistente de Ventas</strong>
    <button class="close" (click)="toggle()" aria-label="Cerrar">Ã—</button>
  </header>

  <section class="chat-body">
    <div *ngFor="let m of history" [class.me]="m.role==='user'" class="bubble">
      <div class="text">{{ m.text }}</div>
    </div>
  </section>

  <footer class="chat-input">
    <input [(ngModel)]="input" (keyup.enter)="send()" placeholder="Escribe tu mensaje..." />
    <button (click)="send()" [disabled]="sending || !input.trim()">Enviar</button>
  </footer>
</div>
